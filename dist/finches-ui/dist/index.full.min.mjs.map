{"version":3,"file":"index.full.min.mjs","sources":["../../../packages/finches-ui/version.ts","../../../packages/finches-ui/make-installer.ts","../../../packages/utils/with-install.ts","../../../packages/components/test/src/test.vue","../../../packages/components/test/index.ts","../../../packages/finches-ui/component.ts","../../../packages/finches-ui/defaults.ts","../../../packages/finches-ui/index.ts"],"sourcesContent":["export const version = \"0.0.0-dev.2\";\n","/*\n * @Description:\n * @Author: 华松林\n * @Date: 2021-11-29 16:06:06\n * @LastEditors: 华松林\n * @LastEditTime: 2021-11-30 10:01:52\n * @FilePath: /finches-ui/packages/finches-ui/make-installer.ts\n */\nimport { setConfig } from \"@finches-ui/utils/config\";\n// import { LocaleInjectionKey, localeProviderMaker } from '@finches-ui/hooks'\nimport { version } from \"./version\";\n\nimport type { App, Plugin } from \"vue\";\nimport type { ComponentSize } from \"@finches-ui/utils/types\";\nimport type { InstallOptions } from \"@finches-ui/utils/config\";\n\nconst makeInstaller = (components: Plugin[] = []) => {\n  const apps: App[] = [];\n\n  const install = (app: App, opts: InstallOptions) => {\n    const defaultInstallOpt: InstallOptions = {\n      size: \"\" as ComponentSize,\n      zIndex: 2000,\n    };\n\n    const option = Object.assign(defaultInstallOpt, opts);\n    if (apps.includes(app)) return;\n    apps.push(app);\n\n    components.forEach((c) => {\n      app.use(c);\n    });\n\n    // if (option.locale) {\n    //   const localeProvides = localeProviderMaker(opts.locale)\n    //   app.provide(LocaleInjectionKey, localeProvides)\n    // }\n\n    app.config.globalProperties.$FINCHES = option;\n    // app.provide() ? is this better? I think its not that flexible but worth implement\n    setConfig(option);\n  };\n\n  return {\n    version,\n    install,\n  };\n};\n\nexport default makeInstaller;\n","/*\n * @Description:\n * @Author: 华松林\n * @Date: 2021-11-29 16:34:47\n * @LastEditors: 华松林\n * @LastEditTime: 2021-11-30 09:58:26\n * @FilePath: /finches-ui/packages/utils/with-install.ts\n */\nimport { NOOP } from \"@vue/shared\";\nimport type { SFCWithInstall } from \"./types\";\n\nexport const withInstall = <T, E extends Record<string, any>>(\n  main: T,\n  extra?: E\n) => {\n  (main as SFCWithInstall<T>).install = (app): void => {\n    for (const comp of [main, ...Object.values(extra ?? {})]) {\n      app.component(comp.name, comp);\n    }\n  };\n\n  if (extra) {\n    for (const [key, comp] of Object.entries(extra)) {\n      (main as any)[key] = comp;\n    }\n  }\n  return main as SFCWithInstall<T> & E;\n};\n\nexport const withInstallFunction = <T>(fn: T, name: string) => {\n  (fn as SFCWithInstall<T>).install = (app) => {\n    app.config.globalProperties[name] = fn;\n  };\n\n  return fn as SFCWithInstall<T>;\n};\n\nexport const withNoopInstall = <T>(component: T) => {\n  (component as SFCWithInstall<T>).install = NOOP;\n\n  return component as SFCWithInstall<T>;\n};\n","<!--\n * @Description: \n * @Author: 华松林\n * @Date: 2021-11-29 16:11:08\n * @LastEditors: 华松林\n * @LastEditTime: 2021-11-30 10:01:18\n * @FilePath: /finches-ui/packages/components/test/src/test.vue\n-->\n<template>\n  <div>\n    <slot></slot>\n    我是一个测试组件\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nexport default defineComponent({\n  name: \"CbTest\",\n  props: {},\n  setup(props) {\n    // init here\n  },\n});\n</script>\n<style></style>\n","/*\n * @Description:./src/test.vue\n * @Author: 华松林\n * @Date: 2021-11-29 14:17:36\n * @LastEditors: 华松林\n * @LastEditTime: 2021-11-30 10:01:20\n * @FilePath: /finches-ui/packages/components/test/index.ts\n */\nimport { withInstall } from \"@finches-ui/utils/with-install\";\n\nimport Test from \"./src/test.vue\";\n\nexport const CbTest = withInstall(Test);\nexport default CbTest;\n","/*\n * @Description:\n * @Author: 华松林\n * @Date: 2021-11-29 16:16:47\n * @LastEditors: 华松林\n * @LastEditTime: 2021-11-29 16:16:47\n * @FilePath: /finches-ui/packages/finches-ui/component.ts\n */\nimport { CbTest } from \"@finches-ui/components/test\";\n\nexport default [CbTest];\n","/*\n * @Description:\n * @Author: 华松林\n * @Date: 2021-11-29 16:18:06\n * @LastEditors: 华松林\n * @LastEditTime: 2021-11-30 10:01:48\n * @FilePath: /finches-ui/packages/finches-ui/defaults.ts\n */\nimport makeInstaller from \"./make-installer\";\nimport Components from \"./component\";\n// import Plugins from './plugin'\n\nexport default makeInstaller([...Components]);\n","/*\n * @Description:\n * @Author: 华松林\n * @Date: 2021-11-26 10:16:05\n * @LastEditors: 华松林\n * @LastEditTime: 2021-11-30 10:01:50\n * @FilePath: /finches-ui/packages/finches-ui/index.ts\n */\nimport installer from \"./defaults\";\nexport * from \"@finches-ui/components\";\n// export * from '@finches-ui/directives'\n// export * from '@finches-ui/hooks'\n// export * from '@finches-ui/tokens'\n\nexport { default as makeInstaller } from \"./make-installer\";\nexport { default } from \"./defaults\";\n\nexport const install = installer.install;\nexport const version = installer.version;\n"],"names":["version","Test","makeInstaller"],"mappings":"uJAAaA,GAAU,cCgBjB,EAAgB,CAAC,EAAuB,KAAO,MAC7C,GAAc,SA0Bb,SACLA,EACA,QA1Bc,CAAC,EAAU,IAAyB,MAM5C,GAAS,OAAO,OALoB,CACxC,KAAM,GACN,OAAQ,KAGsC,GAC5C,EAAK,SAAS,OACb,KAAK,KAEC,QAAQ,AAAC,GAAM,GACpB,IAAI,OAQN,OAAO,iBAAiB,SAAW,MAW3C,MAAe,OCtCF,GAAc,CACzB,EACA,IACG,IACF,EAA2B,QAAU,AAAC,GAAc,UACxC,KAAQ,CAAC,EAAM,GAAG,OAAO,OAAO,GAAS,OAC9C,UAAU,EAAK,KAAM,IAIzB,WACS,CAAC,EAAK,IAAS,QAAO,QAAQ,GACtC,EAAa,GAAO,QAGlB,ICVT,MAAe,EAAgB,CAC7B,KAAM,SACN,MAAO,GACP,MAAM,EAAO,iNCPF,GAAS,EAAYC,GCFlC,MAAe,CAAC,KCEDC,EAAc,CAAC,GAAG,SCKpB,GAAU,EAAU,QACpB,EAAU,EAAU"}