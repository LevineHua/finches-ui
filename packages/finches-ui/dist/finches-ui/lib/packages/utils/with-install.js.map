{"version":3,"file":"with-install.js","sources":["../../../../../../utils/with-install.ts"],"sourcesContent":["/*\n * @Description:\n * @Author: 华松林\n * @Date: 2021-11-29 16:34:47\n * @LastEditors: 华松林\n * @LastEditTime: 2021-11-30 09:58:26\n * @FilePath: /finches-ui/packages/utils/with-install.ts\n */\nimport { NOOP } from \"@vue/shared\";\nimport type { SFCWithInstall } from \"./types\";\n\nexport const withInstall = <T, E extends Record<string, any>>(\n  main: T,\n  extra?: E\n) => {\n  (main as SFCWithInstall<T>).install = (app): void => {\n    for (const comp of [main, ...Object.values(extra ?? {})]) {\n      app.component(comp.name, comp);\n    }\n  };\n\n  if (extra) {\n    for (const [key, comp] of Object.entries(extra)) {\n      (main as any)[key] = comp;\n    }\n  }\n  return main as SFCWithInstall<T> & E;\n};\n\nexport const withInstallFunction = <T>(fn: T, name: string) => {\n  (fn as SFCWithInstall<T>).install = (app) => {\n    app.config.globalProperties[name] = fn;\n  };\n\n  return fn as SFCWithInstall<T>;\n};\n\nexport const withNoopInstall = <T>(component: T) => {\n  (component as SFCWithInstall<T>).install = NOOP;\n\n  return component as SFCWithInstall<T>;\n};\n"],"names":["NOOP"],"mappings":";;;;;;MAWa,cAAc,CACzB,MACA,UACG;AACH,EAAC,KAA2B,UAAU,CAAC,QAAc;AACnD,eAAW,QAAQ,CAAC,MAAM,GAAG,OAAO,OAAO,wBAAS,MAAM;AACxD,UAAI,UAAU,KAAK,MAAM;AAAA;AAAA;AAI7B,MAAI,OAAO;AACT,eAAW,CAAC,KAAK,SAAS,OAAO,QAAQ,QAAQ;AAC/C,MAAC,KAAa,OAAO;AAAA;AAAA;AAGzB,SAAO;AAAA;MAGI,sBAAsB,CAAI,IAAO,SAAiB;AAC7D,EAAC,GAAyB,UAAU,CAAC,QAAQ;AAC3C,QAAI,OAAO,iBAAiB,QAAQ;AAAA;AAGtC,SAAO;AAAA;MAGI,kBAAkB,CAAI,cAAiB;AAClD,EAAC,UAAgC,UAAUA;AAE3C,SAAO;AAAA;;;;;;"}